<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>

		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<section class="appointment">
			<img class="trenz-bg" src="img/trenz-bg.jpg" alt="" />
			<div class="appointment-container">
				<div class="hero">
					<img src="img/trenz-logo-lq.png" alt="" />
				</div>

				<div class="appointment-btns">
					<div class="appointment-btn">APPOINTMENTS</div>
					<div class="transaction-btn">TRANSACTIONS</div>
				</div>

				<h2>Appointments</h2>

				<form action="">
					<input type="checkbox" id="showCheckbox" />
					<label for="showCheckbox">Show hidden</label>
				</form>

				<div class="appointment-date">
					<div class="current-date">
						<h4>September 12, 2023</h4>
						<img src="img/add.png" alt="" />
					</div>
					<div class="appointment-card-container">
						<div class="appointment-card">
							<div class="appointment-box">
								<div class="card-text">
									<h3>Trial Bride Updo</h3>
									<p>10:20 AM | 40 Minute(s)</p>
								</div>
								<img class="appointment-done-img" src="img/accept.png" alt="" />
							</div>
							<div class="appointment-option">
								<div class="edit-btn">
									<img src="img/more.png" alt="Edit" />
									<p>Edit</p>
								</div>
								<div class="delete-btn">
									<img src="img/close.png" alt="Edit" />
									<p>Cancel</p>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="transaction-container">
					<div class="current-date">
						<h4>September 12, 2023</h4>
						<img src="img/add.png" alt="" />
					</div>
					<div class="appointment-card-container">
						<div class="appointment-card">
							<div class="appointment-box">
								<div class="card-text">
									<h3>Trial Bride Updo</h3>
									<p>10:20 AM | 40 Minute(s)</p>
								</div>
								<img class="appointment-done-img" src="img/accept.png" alt="" />
							</div>
							<div class="appointment-option">
								<div class="edit-btn">
									<img src="img/more.png" alt="Edit" />
									<p>Edit</p>
								</div>
								<div class="delete-btn">
									<img src="img/close.png" alt="Edit" />
									<p>Cancel</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- menu section -->

		<div class="menu-display">
			<img id="menuIcon" src="img/menu.png" alt="" />
		</div>

		<div id="menu" class="menu">
			<div class="menu-heading">Appointments</div>
			<div class="menu-container">
				<div class="menu-item">
					<img src="img/home.png" alt="Home" />
					<p>Home</p>
				</div>
				<div class="menu-item">
					<img src="img/add-event.png" alt="" />
					<p>Add</p>
				</div>
				<div class="menu-item">
					<img src="img/website.png" alt="" />
					<p>View</p>
				</div>
				<div class="menu-item">
					<img src="img/calendar.png" alt="" />
					<p>History</p>
				</div>
				<div class="menu-item">
					<img src="img/setting.png" alt="Setting" />
					<p>Setting</p>
				</div>
			</div>
		</div>
	</body>

	<script src="script/appointment.js"></script>
	<script src="script/transaction.js"></script>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			let currentSwipedBox = null; // Keep track of the currently swiped box

			function handleStart(event) {
				if (currentSwipedBox && currentSwipedBox !== event.currentTarget) {
					resetSwipedBox(); // Reset the previously swiped box
				}
				currentSwipedBox = event.currentTarget;
				currentSwipedBox.startX = event.touches[0].clientX;
			}

			function handleEnd(event) {
				const deltaX =
					event.changedTouches[0].clientX - currentSwipedBox.startX;
				const windowWidth = window.innerWidth;
				const appointmentBox =
					currentSwipedBox.querySelector(".appointment-box");

				if (windowWidth < 650) {
					appointmentBox.style.transform =
						deltaX < -50 ? "translateX(-100px)" : "translateX(0px)";
				}
			}

			function resetSwipedBox() {
				const appointmentBox =
					currentSwipedBox.querySelector(".appointment-box");
				appointmentBox.style.transform = "translateX(0px)";
				currentSwipedBox = null;
			}

			document
				.querySelectorAll(".appointment-card")
				.forEach((appointmentCard) => {
					appointmentCard.startX = 0;
					appointmentCard.addEventListener("touchstart", handleStart);
					appointmentCard.addEventListener("touchend", handleEnd);
				});

			document.body.addEventListener("click", function (event) {
				if (!event.target.closest(".appointment-card")) {
					resetSwipedBox();
				}
			});
		});

		// menu script

		const menuDisplay = document.querySelector(".menu-display");
		const menuContainer = document.getElementById("menu");
		const menuIcon = document.getElementById("menuIcon");

		menuDisplay.addEventListener("click", function () {
			if (menuContainer.style.maxHeight === "1000px") {
				// menuContainer.style.display = "none";
				menuContainer.style.maxHeight = "0px";
				menuContainer.style.right = "-100%";
				menuIcon.src = "img/menu.png";
			} else {
				// menuContainer.style.display = "block";
				menuIcon.src = "img/close1.png";
				menuContainer.style.right = "calc(5% - 10px)";
				menuContainer.style.maxHeight = "1000px";
			}
		});
	</script>
</html>
